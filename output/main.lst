mads 2.1.1
   129 					opt l+
    98
    99 				.print 'ZPAGE: ',psptr,'..',zpend-1
    99 				ZPAGE: $0002..$0057
   100
   101 				.print 'RTLIB: ',RTLIB,'..',*-1
   101 				RTLIB: $1044..$109F
   102
   103 				; ------------------------------------------------------------
   104
   105 10A0			START
   106 10A0 BA				tsx
   107 10A1 8E 42 15			stx MAIN.@halt+1
   108
   109 					.ifdef fmulinit
   110 					fmulinit
   111 					eif
   112
   113 = 002C			VLEN	= VARDATASIZE-VARINITSIZE
   114 = 155A			VADR	= DATAORIGIN+VARINITSIZE
   115
   116 					ift VADR > $BFFF
   117 					ert 'Invalid memory address range ',VADR
   118 					eli (VLEN>0) && (VLEN<=256)
   119 10A4 A2 D4			ldx #256-VLEN
   120 10A6 A9 00			lda #$00
   121 10A8 9D 86 14 E8 D0 FA		sta:rne VADR+VLEN-256,x+
   122 					eli VLEN>0
   123 					@fill #VADR #VLEN #$00
   124 					eif
   125
   126 10AE A9 86 85 02 A9 15 + 	mwa #PROGRAMSTACK psptr
   127
   128 10B6 A2 00			ldx #$00
   129 10B8 86 10			stx bp						; BP = 0
   130
   131 10BA CA				dex						; X = 255
   132
   133 10BB				UNITINITIALIZATION
Macro: UNITINITIALIZATION [Source: main.a65]
Source: main.a65
   134
   135 10BB			.local	MAIN						; PROCEDURE
   136
   137 10BB 4C D6 14			jmp l_0007
   138
   139 				; ------------------------------------------------------------
   140
   141 10BE			.local	SYSTEM						; UNIT
   142
   143 10BE			.local	PEEK						; FUNCTION | ASSEMBLER | REGISTER
   144
   145 				; ------------------------------------------------------------
   146
   147 				; Generate Assignment for WORD / SMALLINT / SHORTREAL / POINTER
   148 				; as Pointer
   149 10BE B5 18			lda :STACKORIGIN,x
   150 10C0 85 08			sta A
   151 10C2 B5 28			lda :STACKORIGIN+STACKWIDTH,x
   152 10C4 85 09			sta A+1
   153 10C6 CA				dex
   154
   155 				; ---------------------  ASM Block 001  ---------------------
   156
   157 10C7 A0 00			ldy #0
   158 10C9 B1 08 8D 5F 15		mva (edx),y Result
   159
   160 10CE			@exit
   161
   162 				; ------------------------------------------------------------
   163
   164 				; Push BYTE / CHAR / SHORTINT / BOOLEAN
   165 				; as Pointer
   166
   167 10CE E8				inx
   168 10CF AD 5F 15 95 18		mva RESULT :STACKORIGIN,x
   169
   170 					.ifdef @new
   171 					lda <@VarData
   172 					sta :ztmp
   173 					lda >@VarData
   174 					ldy #@VarDataSize-1
   175 					jmp @FreeMem
   176 					eif
   177
   178 				; ------------------------------------------------------------
   179
   180 = 0008			A	= edx
   181 = 155F			RESULT	= DATAORIGIN+$000B
   182
   183 = 155F			@VarData	= RESULT
   184 = 0001			@VarDataSize	= 1
   185
   186 10D4 60				rts						; ret
   187 				.endl
   188
   189 10D5			.local	POKE						; PROCEDURE | ASSEMBLER | REGISTER
   190
   191 				; ------------------------------------------------------------
   192
   193 				; Generate Assignment for BYTE / CHAR / SHORTINT / BOOLEAN
   194 				; as Pointer
   195 10D5 B5 18			lda :STACKORIGIN,x
   196 10D7 85 0C			sta VALUE
   197 10D9 CA				dex
   198
   199 				; ------------------------------------------------------------
   200
   201 				; Generate Assignment for WORD / SMALLINT / SHORTREAL / POINTER
   202 				; as Pointer
   203 10DA B5 18			lda :STACKORIGIN,x
   204 10DC 85 08			sta A
   205 10DE B5 28			lda :STACKORIGIN+STACKWIDTH,x
   206 10E0 85 09			sta A+1
   207 10E2 CA				dex
   208
   209 				; ---------------------  ASM Block 016  ---------------------
   210
   211 10E3 A0 00			ldy #0
   212 10E5 A5 0C 91 08			mva value (edx),y
   213
   214
   215 				; ------------------------------------------------------------
   216
   217 = 0008			A	= edx
   218 = 000C			VALUE	= ecx
   219 10E9			@exit
   220 					.ifdef @new
   221 					lda <@VarData
   222 					sta :ztmp
   223 					lda >@VarData
   224 					ldy #@VarDataSize-1
   225 					jmp @FreeMem
   226 					els
   227 10E9 60				rts						; ret
   228 					eif
   229 				.endl
   230
   231 10EA			.local	DPOKE						; PROCEDURE | ASSEMBLER | REGISTER
   232
   233 				; ------------------------------------------------------------
   234
   235 				; Generate Assignment for WORD / SMALLINT / SHORTREAL / POINTER
   236 				; as Pointer
   237 10EA B5 18			lda :STACKORIGIN,x
   238 10EC 85 0C			sta VALUE
   239 10EE B5 28			lda :STACKORIGIN+STACKWIDTH,x
   240 10F0 85 0D			sta VALUE+1
   241 10F2 CA				dex
   242
   243 				; ------------------------------------------------------------
   244
   245 				; Generate Assignment for WORD / SMALLINT / SHORTREAL / POINTER
   246 				; as Pointer
   247 10F3 B5 18			lda :STACKORIGIN,x
   248 10F5 85 08			sta A
   249 10F7 B5 28			lda :STACKORIGIN+STACKWIDTH,x
   250 10F9 85 09			sta A+1
   251 10FB CA				dex
   252
   253 				; ---------------------  ASM Block 017  ---------------------
   254
   255 10FC A0 00			ldy #0
   256 10FE A5 0C 91 08			mva value (edx),y
   257 1102 C8				iny
   258 1103 A5 0D 91 08			mva value+1 (edx),y
   259
   260
   261 				; ------------------------------------------------------------
   262
   263 = 0008			A	= edx
   264 = 000C			VALUE	= ecx
   265 1107			@exit
   266 					.ifdef @new
   267 					lda <@VarData
   268 					sta :ztmp
   269 					lda >@VarData
   270 					ldy #@VarDataSize-1
   271 					jmp @FreeMem
   272 					els
   273 1107 60				rts						; ret
   274 					eif
   275 				.endl
   276
   277 1108			.local	FILLCHAR_0056					; PROCEDURE | ASSEMBLER | OVERLOAD | REGISTER
   278
   279 				; ---------------------  ASM Block 019  ---------------------
   280
   281 1108 20 44 10			jsr @fill
   282
   283
   284 				; ------------------------------------------------------------
   285
   286 = 0008			A	= edx
   287 = 000C			COUNT	= ecx
   288 = 0004			VALUE	= eax
   289 110B			@exit
   290 					.ifdef @new
   291 					lda <@VarData
   292 					sta :ztmp
   293 					lda >@VarData
   294 					ldy #@VarDataSize-1
   295 					jmp @FreeMem
   296 					els
   297 110B 60				rts						; ret
   298 					eif
   299 				.endl
   300
   301 110C			.local	PAUSE_006B					; PROCEDURE | ASSEMBLER | OVERLOAD
   302
   303 				; ---------------------  ASM Block 035  ---------------------
   304
   305
   306 110C AD 60 15		loop  lda n
   307 110F 0D 61 15		  ora n+1
   308 1112 F0 14		  beq stop
   309
   310 1114 A5 A5 C5 A5 F0 FC	  lda:cmp:req :c4p_time+2
   311
   312 111A AD 60 15 D0 03 CE +   dew n
   313
   314 1125 4C 0C 11		  jmp loop
   315 1128			stop
   316
   317
   318 				; ------------------------------------------------------------
   319
   320 = 1560			N	= DATAORIGIN+$000C
   321
   322 = 1560			@VarData	= N
   323 = 0002			@VarDataSize	= 2
   324
   325 1128			@exit
   326 					.ifdef @new
   327 					lda <@VarData
   328 					sta :ztmp
   329 					lda >@VarData
   330 					ldy #@VarDataSize-1
   331 					jmp @FreeMem
   332 					els
   333 1128 60				rts						; ret
   334 					eif
   335 				.endl
   336
   337 1129			.local	RANDOM_006C					; FUNCTION | ASSEMBLER | OVERLOAD
   338 1129 8D 62 15			sta RANGE
   339
   340 				; ---------------------  ASM Block 039  ---------------------
   341
   342
   343 112C AD 00 FF		  lda ted_timer_1   //Timer A Lo byte
   344 112F 4D 01 FF		  eor ted_timer_1+1 //Timer A Hi byte
   345 1132 4D 02 FF		  eor ted_timer_2   //Timer B Lo byte
   346 1135 6D 1E FF		  adc ted_hcount    //Horizontal counter
   347 1138 4D 04 FF		  eor ted_timer_3   //Timer C Lo byte
   348 113B 4D 1E FF		  eor ted_hcount    //Horizontal counter
   349 113E A8			  tay
   350
   351 113F AD 62 15		  lda range
   352 1142 F0 08		  beq stop
   353
   354 1144 85 0C		  sta ecx
   355 1146 84 04		  sty eax
   356
   357 1148 20 8C 10		  jsr imulCL
   358 114B A8			  tay
   359
   360 114C 8C 63 15		stop  sty Result
   361
   362 114F			@exit
   363
   364 				; ------------------------------------------------------------
   365
   366 				; Push BYTE / CHAR / SHORTINT / BOOLEAN
   367 				; as Pointer
   368
   369 114F E8				inx
   370 1150 AD 63 15 95 18		mva RESULT :STACKORIGIN,x
   371
   372 					.ifdef @new
   373 					lda <@VarData
   374 					sta :ztmp
   375 					lda >@VarData
   376 					ldy #@VarDataSize-1
   377 					jmp @FreeMem
   378 					eif
   379
   380 				; ------------------------------------------------------------
   381
   382 = 1562			RANGE	= DATAORIGIN+$000E
   383 = 1563			RESULT	= DATAORIGIN+$000F
   384
   385 = 1562			@VarData	= RANGE
   386 = 0002			@VarDataSize	= 2
   387
   388 1155 60				rts						; ret
   389 				.endl
   390
   391 				; ------------------------------------------------------------
   392
   393 = 0101			__PORTB_BANKS	= $0101
   394 = 0648			M_PI_2	= $0648
   395 = 0192			D_PI_2	= $0192
   396 = 0004			D_PI_180	= $04
   397 = 0000			MGTIA	= $00
   398 = 0080			MVBXE	= $80
   399 = 0000			VBXE_XDLADR	= $00
   400 = 0100			VBXE_BCBADR	= $0100
   401 = 1000			VBXE_MAPADR	= $1000
   402 = 5000			VBXE_OVRADR	= $5000
   403 = B000			VBXE_WINDOW	= $B000
   404 = 0000			IDLI	= $00
   405 = 0001			IVBL	= $01
   406 = 00FE			CH_DELCHR	= $FE
   407 = 009B			CH_ENTER	= $9B
   408 = 001B			CH_ESC	= $1B
   409 = 001C			CH_CURS_UP	= $1C
   410 = 001D			CH_CURS_DOWN	= $1D
   411 = 001E			CH_CURS_LEFT	= $1E
   412 = 001F			CH_CURS_RIGHT	= $1F
   413 = 007F			CH_TAB	= $7F
   414 = 009B			CH_EOL	= $9B
   415 = 007D			CH_CLR	= $7D
   416 = 00FD			CH_BELL	= $FD
   417 = 007E			CH_DEL	= $7E
   418 = 009C			CH_DELLINE	= $9C
   419 = 009D			CH_INSLINE	= $9D
   420 = 0000			COLOR_BLACK	= $00
   421 = 000E			COLOR_WHITE	= $0E
   422 = 0032			COLOR_RED	= $32
   423 = 0096			COLOR_CYAN	= $96
   424 = 0068			COLOR_VIOLET	= $68
   425 = 00C4			COLOR_GREEN	= $C4
   426 = 0074			COLOR_BLUE	= $74
   427 = 00EE			COLOR_YELLOW	= $EE
   428 = 0028			COLOR_ORANGE	= $28
   429 = 00E4			COLOR_BROWN	= $E4
   430 = 003C			COLOR_LIGHTRED	= $3C
   431 = 0004			COLOR_GRAY1	= $04
   432 = 0006			COLOR_GRAY2	= $06
   433 = 000A			COLOR_GRAY3	= $0A
   434 = 00CC			COLOR_LIGHTGREEN	= $CC
   435 = 007C			COLOR_LIGHTBLUE	= $7C
   436 = 0004			FMOPENREAD	= $04
   437 = 0008			FMOPENWRITE	= $08
   438 = 0009			FMOPENAPPEND	= $09
   439 = 000C			FMOPENREADWRITE	= $0C
   440 = 1554			SCREENWIDTH	= DATAORIGIN+$0000
   441 = 1556			SCREENHEIGHT	= DATAORIGIN+$0002
   442 = 1558			DATESEPARATOR	= DATAORIGIN+$0004
   443 = D014			TVSYSTEM	= $D014
   444 = D20A			RND	= $D20A
   445 = 02C0			adr.PALETTE	= $02C0
   446 1156			.var PALETTE	= adr.PALETTE .word
   447 = D012			adr.HPALETTE	= $D012
   448 1156			.var HPALETTE	= adr.HPALETTE .word
   449 = 1559			FILEMODE	= DATAORIGIN+$0005
   450 = 155A			GRAPHMODE	= DATAORIGIN+$0006
   451 = 155B			IORESULT	= DATAORIGIN+$0007
   452 = 155C			EOLN	= DATAORIGIN+$0008
   453 = 155D			RNDSEED	= DATAORIGIN+$0009
   454
   455 = 1156 C0 02		PALETTE
   455 = 1158 12 D0		HPALETTE
   455 				.endl							; UNIT SYSTEM
   456
   457 115A			.local	INITPLAYFIELD					; PROCEDURE
   458
   459 				; optimize OK (main.pas), line = 71
   460
   461 115A A9 03			lda #$03
   462 115C 8D 66 15			sta ALIVE
   463
   464 				; optimize OK (main.pas), line = 73
   465
   466 115F A9 1F			lda #$1F
   467 1161 8D 15 FF			sta BORDERCOLOR
   468 1164 A9 00			lda #$00
   469 1166 8D 19 FF			sta BGCOLOR
   470
   471 				; optimize OK (main.pas), line = 74
   472
   473 1169 A9 20			lda #$20
   474 116B 85 04			sta SYSTEM.FILLCHAR_0056.VALUE
   475 116D A9 C0			lda #$C0
   476 116F 85 0C			sta SYSTEM.FILLCHAR_0056.COUNT
   477 1171 A9 03			lda #$03
   478 1173 85 0D			sta SYSTEM.FILLCHAR_0056.COUNT+1
   479 1175 A9 00			lda #$00
   480 1177 85 08			sta SYSTEM.FILLCHAR_0056.A
   481 1179 A9 0C			lda #$0C
   482 117B 85 09			sta SYSTEM.FILLCHAR_0056.A+1
   483 117D 20 08 11			jsr SYSTEM.FILLCHAR_0056
   484
   485 				; optimize OK (main.pas), line = 76
   486
   487 1180 A9 27			lda #$27
   488 1182 85 58			sta T0B
   489
   490 1184			l_008D
   491 				; --- ForToDoCondition
   492
   493 				; optimize OK (main.pas), line = 77
   494
   495 1184 A4 58			ldy T0B
   496 1186 A9 A0			lda #$A0
   497 1188 99 00 0C			sta $0C00,y
   498
   499 				; optimize OK (main.pas), line = 78
   500
   501 118B 99 C0 0F			sta $0FC0,y
   502
   503 				; optimize OK (main.pas), line = 79
   504
   505 118E A9 41			lda #$41
   506 1190 99 00 08			sta $0800,y
   507
   508 				; optimize OK (main.pas), line = 80
   509
   510 1193 99 C0 0B			sta $0BC0,y
   511
   512 				; --- ForToDoEpilog
   513 1196 C6 58			dec T0B
   514 1198 10 EA			jpl l_008D
   515 119A			l_009B
   516
   517 				; optimize OK (main.pas), line = 83
   518
   519 119A A9 18			lda #$18
   520 119C 85 58			sta T0B
   521
   522 119E			l_00CD
   523 				; --- ForToDoCondition
   524 119E A5 58			lda T0B
   525 11A0 C9 01			cmp #$01
   526 11A2 90 3A			jcc l_00DB
   527
   528 				; optimize OK (main.pas), line = 84
   529
   530 11A4 0A				asl @
   531 11A5 A8				tay
   532 11A6 A9 FF			lda #$FF
   533 11A8 18 79 0E 10			add adr.MUL40,y
   534 11AC 85 12			sta :bp2
   535 11AE A9 0B			lda #$0B
   536 11B0 79 0F 10			adc adr.MUL40+1,y
   537 11B3 85 13			sta :bp2+1
   538 11B5 A0 00			ldy #$00
   539 11B7 A9 A0			lda #$A0
   540 11B9 91 12			sta (:bp2),y
   541 11BB C8				iny
   542 11BC 91 12			sta (:bp2),y
   543
   544 				; optimize OK (main.pas), line = 85
   545
   546 11BE A5 58			lda T0B
   547 11C0 0A				asl @
   548 11C1 A8				tay
   549 11C2 A9 FF			lda #$FF
   550 11C4 18 79 0E 10			add adr.MUL40,y
   551 11C8 85 12			sta :bp2
   552 11CA A9 07			lda #$07
   553 11CC 79 0F 10			adc adr.MUL40+1,y
   554 11CF 85 13			sta :bp2+1
   555 11D1 A0 00			ldy #$00
   556 11D3 A9 41			lda #$41
   557 11D5 91 12			sta (:bp2),y
   558 11D7 C8				iny
   559 11D8 91 12			sta (:bp2),y
   560
   561 				; --- ForToDoEpilog
   562 11DA C6 58			dec T0B
   563 11DC 10 C0			jpl l_00CD
   564 11DE			l_00DB
   565
   566 				; ------------------------------------------------------------
   567
   568 = 0000			@FORTMP_008A	= $00
   569 = 0001			@FORTMP_00CA	= $01
   570 11DE			@exit
   571 					.ifdef @new
   572 					lda <@VarData
   573 					sta :ztmp
   574 					lda >@VarData
   575 					ldy #@VarDataSize-1
   576 					jmp @FreeMem
   577 					els
   578 11DE 60				rts						; ret
   579 					eif
   580 				.endl
   581
   582 11DF			.local	INITPLAYERS					; PROCEDURE
   583
   584 				; optimize OK (main.pas), line = 91
   585
   586 11DF A9 0A			lda #$0A
   587 11E1 8D 67 15			sta PLAYER1.X
   588 11E4 8D 68 15			sta PLAYER1.Y
   589 11E7 A9 5F			lda #$5F
   590 11E9 8D 69 15			sta PLAYER1.COLOUR
   591 11EC A9 00			lda #$00
   592 11EE 8D 6B 15			sta PLAYER1.ISDEAD
   593 11F1 A9 08			lda #$08
   594 11F3 8D 6A 15			sta PLAYER1.DIR
   595
   596 				; optimize OK (main.pas), line = 92
   597
   598 11F6 A9 1E			lda #$1E
   599 11F8 8D 6C 15			sta PLAYER2.X
   600 11FB A9 0A			lda #$0A
   601 11FD 8D 6D 15			sta PLAYER2.Y
   602 1200 A9 5D			lda #$5D
   603 1202 8D 6E 15			sta PLAYER2.COLOUR
   604 1205 A9 00			lda #$00
   605 1207 8D 70 15			sta PLAYER2.ISDEAD
   606 120A A9 04			lda #$04
   607 120C 8D 6F 15			sta PLAYER2.DIR
   608
   609 				; optimize OK (main.pas), line = 93
   610
   611 120F A9 14			lda #$14
   612 1211 8D 71 15			sta PLAYER3.X
   613 1214 A9 06			lda #$06
   614 1216 8D 72 15			sta PLAYER3.Y
   615 1219 A9 71			lda #$71
   616 121B 8D 73 15			sta PLAYER3.COLOUR
   617 121E A9 00			lda #$00
   618 1220 8D 75 15			sta PLAYER3.ISDEAD
   619 1223 A9 02			lda #$02
   620 1225 8D 74 15			sta PLAYER3.DIR
   621
   622 				; optimize OK (main.pas), line = 94
   623
   624 1228 A9 14			lda #$14
   625 122A 8D 76 15			sta PLAYER4.X
   626 122D A9 12			lda #$12
   627 122F 8D 77 15			sta PLAYER4.Y
   628 1232 A9 55			lda #$55
   629 1234 8D 78 15			sta PLAYER4.COLOUR
   630 1237 A9 00			lda #$00
   631 1239 8D 7A 15			sta PLAYER4.ISDEAD
   632 123C A9 01			lda #$01
   633 123E 8D 79 15			sta PLAYER4.DIR
   634 1241			@exit
   635 					.ifdef @new
   636 					lda <@VarData
   637 					sta :ztmp
   638 					lda >@VarData
   639 					ldy #@VarDataSize-1
   640 					jmp @FreeMem
   641 					els
   642 1241 60				rts						; ret
   643 					eif
   644 				.endl
   645
   646 1242			.local	PUTCHAR						; PROCEDURE
   647
   648 				; optimize OK (main.pas), line = 101
   649
   650 1242 AD 7C 15			lda Y
   651 1245 0A				asl @
   652 1246 A8				tay
   653 1247 B9 0E 10			lda adr.MUL40,y
   654 124A 18 6D 7B 15			add X
   655 124E 85 5B			sta T0W
   656 1250 B9 0F 10			lda adr.MUL40+1,y
   657 1253 69 08			adc #$08
   658 1255 85 5C			sta T0W+1
   659
   660 				; optimize OK (main.pas), line = 102
   661
   662 1257 85 11			sta :bp+1
   663 1259 A4 5B			ldy T0W
   664 125B AD 7E 15			lda C
   665 125E 91 10			sta (:bp),y
   666 1260 A5 5C			lda T0W+1
   667 1262 18 69 04			add #$04
   668 1265 85 11			sta :bp+1
   669 1267 AD 7D 15			lda V
   670 126A 91 10			sta (:bp),y
   671
   672 				; ------------------------------------------------------------
   673
   674 = 157B			X	= DATAORIGIN+$0027
   675 = 157C			Y	= DATAORIGIN+$0028
   676 = 157D			V	= DATAORIGIN+$0029
   677 = 157E			C	= DATAORIGIN+$002A
   678
   679 = 157B			@VarData	= X
   680 = 0004			@VarDataSize	= 4
   681
   682 126C			@exit
   683 					.ifdef @new
   684 					lda <@VarData
   685 					sta :ztmp
   686 					lda >@VarData
   687 					ldy #@VarDataSize-1
   688 					jmp @FreeMem
   689 					els
   690 126C 60				rts						; ret
   691 					eif
   692 				.endl
   693
   694 126D			.local	CHECKAVAILDIR					; PROCEDURE
   695
   696 				; optimize OK (main.pas), line = 107
   697
   698 126D A9 00			lda #$00
   699 126F 8D 65 15			sta AVAILDIR
   700
   701 				; optimize OK (main.pas), line = 108
   702
   703 1272 AD 80 15			lda Y
   704 1275 0A				asl @
   705 1276 A8				tay
   706 1277 B9 0E 10			lda adr.MUL40,y
   707 127A 18 6D 7F 15			add X
   708 127E 85 5B			sta T0W
   709 1280 B9 0F 10			lda adr.MUL40+1,y
   710 1283 69 0C			adc #$0C
   711 1285 85 5C			sta T0W+1
   712
   713 				; optimize OK (main.pas), line = 110
   714
   715 1287 A5 5B			lda T0W
   716 1289 38 E9 28			sub #$28
   717 128C 85 21			sta :STACKORIGIN+9
   718 128E A5 5C			lda T0W+1
   719 1290 E9 00			sbc #$00
   720 1292 85 11			sta :bp+1
   721 1294 A4 21			ldy :STACKORIGIN+9
   722 1296 B1 10			lda (:bp),y
   723 1298 C9 20			cmp #$20
   724 129A D0 08			jne l_01A0
   725 129C AD 65 15			lda AVAILDIR
   726 129F 09 01			ora #$01
   727 12A1 8D 65 15			sta AVAILDIR
   728 12A4			l_01A0
   729
   730 				; optimize OK (main.pas), line = 111
   731
   732 12A4 A4 5B 84 12 A4 5C + 	mwy T0W :bp2
   733 12AC A0 28			ldy #$28
   734 12AE B1 12			lda (:bp2),y
   735 12B0 C9 20			cmp #$20
   736 12B2 D0 08			jne l_01C3
   737 12B4 AD 65 15			lda AVAILDIR
   738 12B7 09 02			ora #$02
   739 12B9 8D 65 15			sta AVAILDIR
   740 12BC			l_01C3
   741
   742 				; optimize OK (main.pas), line = 112
   743
   744 12BC A5 5B			lda T0W
   745 12BE 38 E9 01			sub #$01
   746 12C1 85 21			sta :STACKORIGIN+9
   747 12C3 A5 5C			lda T0W+1
   748 12C5 E9 00			sbc #$00
   749 12C7 85 11			sta :bp+1
   750 12C9 A4 21			ldy :STACKORIGIN+9
   751 12CB B1 10			lda (:bp),y
   752 12CD C9 20			cmp #$20
   753 12CF D0 08			jne l_01E6
   754 12D1 AD 65 15			lda AVAILDIR
   755 12D4 09 04			ora #$04
   756 12D6 8D 65 15			sta AVAILDIR
   757 12D9			l_01E6
   758
   759 				; optimize OK (main.pas), line = 113
   760
   761 12D9 A4 5B 84 12 A4 5C + 	mwy T0W :bp2
   762 12E1 A0 01			ldy #$01
   763 12E3 B1 12			lda (:bp2),y
   764 12E5 C9 20			cmp #$20
   765 12E7 D0 08			jne l_0209
   766 12E9 AD 65 15			lda AVAILDIR
   767 12EC 09 08			ora #$08
   768 12EE 8D 65 15			sta AVAILDIR
   769 12F1			l_0209
   770
   771 				; ------------------------------------------------------------
   772
   773 = 157F			X	= DATAORIGIN+$002B
   774 = 1580			Y	= DATAORIGIN+$002C
   775
   776 = 157F			@VarData	= X
   777 = 0002			@VarDataSize	= 2
   778
   779 12F1			@exit
   780 					.ifdef @new
   781 					lda <@VarData
   782 					sta :ztmp
   783 					lda >@VarData
   784 					ldy #@VarDataSize-1
   785 					jmp @FreeMem
   786 					els
   787 12F1 60				rts						; ret
   788 					eif
   789 				.endl
   790
   791 12F2			.local	PLAYERMOVE					; PROCEDURE
   792
   793 				; optimize OK (main.pas), line = 123
   794
   795 12F2 AD 81 15			lda P
   796 12F5 8D 83 15			sta PLY
   797 12F8 85 12			sta :bp2
   798 12FA AD 82 15			lda P+1
   799 12FD 8D 84 15			sta PLY+1
   800 1300 85 13			sta :bp2+1
   801 				; optimize OK (main.pas), line = 125
   802 1302 A0 04			ldy #PLY.ISDEAD-DATAORIGIN
   803 1304 B1 12			lda (:bp2),y
   804 1306 F0 03 4C D5 14		jne l_022E
   805
   806 				; optimize OK (main.pas), line = 127
   807
   808 130B A0 00			ldy #PLY.X-DATAORIGIN
   809 130D B1 12			lda (:bp2),y
   810 130F 8D 7F 15			sta CHECKAVAILDIR.X
   811 1312 A0 01			ldy #PLY.Y-DATAORIGIN
   812 1314 B1 12			lda (:bp2),y
   813 1316 8D 80 15			sta CHECKAVAILDIR.Y
   814 1319 20 6D 12			jsr CHECKAVAILDIR
   815
   816 				; optimize OK (main.pas), line = 129
   817
   818 131C AD 65 15			lda AVAILDIR
   819 131F D0 36			jne l_0248
   820
   821 				; optimize OK (main.pas), line = 130
   822
   823 1321 AC 83 15 84 12 AC + 	mwy PLY :bp2
   824 132B A0 04			ldy #PLY.ISDEAD-DATAORIGIN
   825 132D A9 01			lda #$01
   826 132F 91 12			sta (:bp2),y
   827 1331 CE 66 15			dec ALIVE
   828
   829 				; optimize OK (main.pas), line = 131
   830
   831 1334 A0 00			ldy #PLY.X-DATAORIGIN
   832 1336 B1 12			lda (:bp2),y
   833 1338 8D 7B 15			sta PUTCHAR.X
   834 133B A0 01			ldy #PLY.Y-DATAORIGIN
   835 133D B1 12			lda (:bp2),y
   836 133F 8D 7C 15			sta PUTCHAR.Y
   837 1342 A0 02			ldy #PLY.COLOUR-DATAORIGIN
   838 1344 B1 12			lda (:bp2),y
   839 1346 18 69 80			add #$80
   840 1349 8D 7E 15			sta PUTCHAR.C
   841 134C A9 57			lda #$57
   842 134E 8D 7D 15			sta PUTCHAR.V
   843 1351 20 42 12			jsr PUTCHAR
   844 1354 4C D5 14			jmp l_0269
   845 1357			l_0248
   846
   847 				; optimize OK (main.pas), line = 135
   848
   849 1357 A9 00			lda #$00
   850 1359 85 5A			sta T0N
   851
   852 				; --- RepeatUntilProlog
   853 135B			l_026E
   854
   855 				; optimize FAIL (0, main.pas), line = 137
   856
   857 135B A9 04			lda #$04
   858 135D 20 29 11			jsr SYSTEM.RANDOM_006C
   859 1360 B4 18			ldy :STACKORIGIN,x
   860 1362 B9 40 10			lda adr.DIRECTION,y
   861 1365 85 59			sta NEWDIR
   862 1367 CA				dex
   863
   864 				; optimize OK (main.pas), line = 138
   865
   866 1368 AD 65 15			lda AVAILDIR
   867 136B 25 59			and NEWDIR
   868 136D F0 04			jeq l_028E
   869 136F A9 01			lda #$01
   870 1371 85 5A			sta T0N
   871 1373			l_028E
   872
   873 				; optimize OK (main.pas), line = 139
   874
   875 1373 A5 5A			lda T0N
   876 1375 F0 E4			jeq l_026E
   877
   878 				; optimize OK (main.pas), line = 142
   879
   880 1377 AC 83 15 84 12 AC + 	mwy PLY :bp2
   881 1381 A0 03			ldy #PLY.DIR-DATAORIGIN
   882 1383 B1 12			lda (:bp2),y
   883 1385 C5 59			cmp NEWDIR
   884 1387 D0 14			jne l_02B0
   885
   886 				; optimize OK (main.pas), line = 143
   887
   888 1389 A5 59			lda NEWDIR
   889 138B 29 0C			and #$0C
   890 138D F0 07			jeq l_02C7
   891 138F A9 40			lda #$40
   892 1391 85 58			sta T0B
   893 1393 4C 9A 13			jmp l_02D5
   894 1396			l_02C7
   895 1396 A9 42			lda #$42
   896 1398 85 58			sta T0B
   897 139A			l_02D5
   898 139A 4C 0D 14			jmp l_02E2
   899 139D			l_02B0
   900
   901 				; optimize OK (main.pas), line = 145
   902
   903 139D AC 83 15 84 12 AC + 	mwy PLY :bp2
   904 13A7 A0 03			ldy #PLY.DIR-DATAORIGIN
   905 13A9 B1 12			lda (:bp2),y
   906 13AB 29 0A			and #$0A
   907 13AD F0 0A			jeq l_0308
   908 13AF A5 59			lda NEWDIR
   909 13B1 29 05			and #$05
   910 13B3 F0 04			jeq l_0308
   911 13B5 A9 7D			lda #$7D
   912 13B7 85 58			sta T0B
   913 13B9			l_0308
   914
   915 				; optimize OK (main.pas), line = 146
   916
   917 13B9 AC 83 15 84 12 AC + 	mwy PLY :bp2
   918 13C3 A0 03			ldy #PLY.DIR-DATAORIGIN
   919 13C5 B1 12			lda (:bp2),y
   920 13C7 29 09			and #$09
   921 13C9 F0 0A			jeq l_0335
   922 13CB A5 59			lda NEWDIR
   923 13CD 29 06			and #$06
   924 13CF F0 04			jeq l_0335
   925 13D1 A9 6E			lda #$6E
   926 13D3 85 58			sta T0B
   927 13D5			l_0335
   928
   929 				; optimize OK (main.pas), line = 147
   930
   931 13D5 AC 83 15 84 12 AC + 	mwy PLY :bp2
   932 13DF A0 03			ldy #PLY.DIR-DATAORIGIN
   933 13E1 B1 12			lda (:bp2),y
   934 13E3 29 06			and #$06
   935 13E5 F0 0A			jeq l_0362
   936 13E7 A5 59			lda NEWDIR
   937 13E9 29 09			and #$09
   938 13EB F0 04			jeq l_0362
   939 13ED A9 6D			lda #$6D
   940 13EF 85 58			sta T0B
   941 13F1			l_0362
   942
   943 				; optimize OK (main.pas), line = 148
   944
   945 13F1 AC 83 15 84 12 AC + 	mwy PLY :bp2
   946 13FB A0 03			ldy #PLY.DIR-DATAORIGIN
   947 13FD B1 12			lda (:bp2),y
   948 13FF 29 05			and #$05
   949 1401 F0 0A			jeq l_038F
   950 1403 A5 59			lda NEWDIR
   951 1405 29 0A			and #$0A
   952 1407 F0 04			jeq l_038F
   953 1409 A9 70			lda #$70
   954 140B 85 58			sta T0B
   955 140D			l_038F
   956 140D			l_02E2
   957
   958 				; optimize OK (main.pas), line = 150
   959
   960 140D AC 83 15 84 12 AC + 	mwy PLY :bp2
   961 1417 A0 00			ldy #PLY.X-DATAORIGIN
   962 1419 B1 12			lda (:bp2),y
   963 141B 8D 7B 15			sta PUTCHAR.X
   964 141E A0 01			ldy #PLY.Y-DATAORIGIN
   965 1420 B1 12			lda (:bp2),y
   966 1422 8D 7C 15			sta PUTCHAR.Y
   967 1425 A0 02			ldy #PLY.COLOUR-DATAORIGIN
   968 1427 B1 12			lda (:bp2),y
   969 1429 8D 7E 15			sta PUTCHAR.C
   970 142C A5 58			lda T0B
   971 142E 8D 7D 15			sta PUTCHAR.V
   972 1431 20 42 12			jsr PUTCHAR
   973
   974 				; optimize OK (main.pas), line = 152
   975
   976 1434 AC 83 15 84 12 AC + 	mwy PLY :bp2
   977 143E A0 03			ldy #PLY.DIR-DATAORIGIN
   978 1440 A5 59			lda NEWDIR
   979 1442 91 12			sta (:bp2),y
   980
   981 				; optimize OK (main.pas), line = 154
   982
   983 1444 A5 59			lda NEWDIR
   984 1446 8D 85 15			sta @CASETMP_0003
   985 1449 C9 01			cmp #$01
   986 144B D0 16			jne l_03B4
   987 144D			@
   988
   989 				; optimize OK (main.pas), line = 155
   990
   991 144D AC 83 15 84 12 AC + 	mwy PLY :bp2
   992 1457 A0 01			ldy #PLY.Y-DATAORIGIN
   993 1459 B1 12			lda (:bp2),y
   994 145B 38 E9 01			sub #$01
   995 145E 91 12			sta (:bp2),y
   996
   997 1460 4C AE 14			jmp a_0003
   998 1463			l_03B4
   999 1463 C9 02			cmp #$02
  1000 1465 D0 16			jne l_03BE
  1001 1467			@
  1002
  1003 				; optimize OK (main.pas), line = 156
  1004
  1005 1467 AC 83 15 84 12 AC + 	mwy PLY :bp2
  1006 1471 A0 01			ldy #PLY.Y-DATAORIGIN
  1007 1473 B1 12			lda (:bp2),y
  1008 1475 18 69 01			add #$01
  1009 1478 91 12			sta (:bp2),y
  1010
  1011 147A 4C AE 14			jmp a_0003
  1012 147D			l_03BE
  1013 147D C9 04			cmp #$04
  1014 147F D0 16			jne l_03C8
  1015 1481			@
  1016
  1017 				; optimize OK (main.pas), line = 157
  1018
  1019 1481 AC 83 15 84 12 AC + 	mwy PLY :bp2
  1020 148B A0 00			ldy #PLY.X-DATAORIGIN
  1021 148D B1 12			lda (:bp2),y
  1022 148F 38 E9 01			sub #$01
  1023 1492 91 12			sta (:bp2),y
  1024
  1025 1494 4C AE 14			jmp a_0003
  1026 1497			l_03C8
  1027 1497 C9 08			cmp #$08
  1028 1499 D0 13			jne l_03D2
  1029 149B			@
  1030
  1031 				; optimize OK (main.pas), line = 158
  1032
  1033 149B AC 83 15 84 12 AC + 	mwy PLY :bp2
  1034 14A5 A0 00			ldy #PLY.X-DATAORIGIN
  1035 14A7 B1 12			lda (:bp2),y
  1036 14A9 18 69 01			add #$01
  1037 14AC 91 12			sta (:bp2),y
  1038
  1039 14AE			l_03D2
  1040 14AE			a_0003
  1041
  1042 				; optimize OK (main.pas), line = 161
  1043
  1044 14AE AC 83 15 84 12 AC + 	mwy PLY :bp2
  1045 14B8 A0 00			ldy #PLY.X-DATAORIGIN
  1046 14BA B1 12			lda (:bp2),y
  1047 14BC 8D 7B 15			sta PUTCHAR.X
  1048 14BF A0 01			ldy #PLY.Y-DATAORIGIN
  1049 14C1 B1 12			lda (:bp2),y
  1050 14C3 8D 7C 15			sta PUTCHAR.Y
  1051 14C6 A0 02			ldy #PLY.COLOUR-DATAORIGIN
  1052 14C8 B1 12			lda (:bp2),y
  1053 14CA 8D 7E 15			sta PUTCHAR.C
  1054 14CD A9 51			lda #$51
  1055 14CF 8D 7D 15			sta PUTCHAR.V
  1056 14D2 20 42 12			jsr PUTCHAR
  1057 14D5			l_0269
  1058 14D5			l_022E
  1059
  1060 				; ------------------------------------------------------------
  1061
  1062 = 1581			P	= DATAORIGIN+$002D
  1063 = 1583			PLY	= DATAORIGIN+$002F
  1064 = 1554			PLY.X	= DATAORIGIN+$0000
  1065 = 1555			PLY.Y	= DATAORIGIN+$0001
  1066 = 1556			PLY.COLOUR	= DATAORIGIN+$0002
  1067 = 1557			PLY.DIR	= DATAORIGIN+$0003
  1068 = 1558			PLY.ISDEAD	= DATAORIGIN+$0004
  1069 = 1585			@CASETMP_0003	= DATAORIGIN+$0031
  1070
  1071 = 1581			@VarData	= P
  1072 = 000F			@VarDataSize	= 15
  1073
  1074 14D5			@exit
  1075 					.ifdef @new
  1076 					lda <@VarData
  1077 					sta :ztmp
  1078 					lda >@VarData
  1079 					ldy #@VarDataSize-1
  1080 					jmp @FreeMem
  1081 					els
  1082 14D5 60				rts						; ret
  1083 					eif
  1084 				.endl
  1085 14D6			l_0007
  1086
  1087 				; optimize OK (main.pas), line = 172
  1088
  1089 14D6 A9 00			lda #$00
  1090 14D8 8D 64 15			sta GAMEOVER
  1091
  1092 				; --- RepeatUntilProlog
  1093 14DB			l_03EE
  1094
  1095 				; optimize FAIL ('INITPLAYERS', main.pas), line = 175
  1096
  1097 14DB 20 DF 11			jsr INITPLAYERS
  1098
  1099 				; optimize FAIL ('INITPLAYFIELD', main.pas), line = 176
  1100
  1101 14DE 20 5A 11			jsr INITPLAYFIELD
  1102
  1103 				; --- RepeatUntilProlog
  1104 14E1			l_03F1
  1105
  1106 				; optimize OK (main.pas), line = 179
  1107
  1108 14E1 A9 0A			lda #$0A
  1109 14E3 8D 60 15			sta SYSTEM.PAUSE_006B.N
  1110 14E6 A9 00			lda #$00
  1111 14E8 8D 61 15			sta SYSTEM.PAUSE_006B.N+1
  1112 14EB 20 0C 11			jsr SYSTEM.PAUSE_006B
  1113
  1114 				; optimize OK (main.pas), line = 180
  1115
  1116 14EE AD 49 15			lda PLAYER1
  1117 14F1 8D 81 15			sta PLAYERMOVE.P
  1118 14F4 AD 4A 15			lda PLAYER1+1
  1119 14F7 8D 82 15			sta PLAYERMOVE.P+1
  1120 14FA 20 F2 12			jsr PLAYERMOVE
  1121
  1122 				; optimize OK (main.pas), line = 181
  1123
  1124 14FD AD 4B 15			lda PLAYER2
  1125 1500 8D 81 15			sta PLAYERMOVE.P
  1126 1503 AD 4C 15			lda PLAYER2+1
  1127 1506 8D 82 15			sta PLAYERMOVE.P+1
  1128 1509 20 F2 12			jsr PLAYERMOVE
  1129
  1130 				; optimize OK (main.pas), line = 182
  1131
  1132 150C AD 4D 15			lda PLAYER3
  1133 150F 8D 81 15			sta PLAYERMOVE.P
  1134 1512 AD 4E 15			lda PLAYER3+1
  1135 1515 8D 82 15			sta PLAYERMOVE.P+1
  1136 1518 20 F2 12			jsr PLAYERMOVE
  1137
  1138 				; optimize OK (main.pas), line = 183
  1139
  1140 151B AD 4F 15			lda PLAYER4
  1141 151E 8D 81 15			sta PLAYERMOVE.P
  1142 1521 AD 50 15			lda PLAYER4+1
  1143 1524 8D 82 15			sta PLAYERMOVE.P+1
  1144 1527 20 F2 12			jsr PLAYERMOVE
  1145
  1146 				; optimize OK (main.pas), line = 184
  1147
  1148 152A AD 66 15			lda ALIVE
  1149 152D D0 B2			jne l_03F1
  1150
  1151 				; optimize OK (main.pas), line = 186
  1152
  1153 152F A9 64			lda #$64
  1154 1531 8D 60 15			sta SYSTEM.PAUSE_006B.N
  1155 1534 A9 00			lda #$00
  1156 1536 8D 61 15			sta SYSTEM.PAUSE_006B.N+1
  1157 1539 20 0C 11			jsr SYSTEM.PAUSE_006B
  1158
  1159 				; optimize OK (main.pas), line = 187
  1160
  1161 153C AD 64 15			lda GAMEOVER
  1162 153F F0 9A			jeq l_03EE
  1163
  1164 				; ------------------------------------------------------------
  1165
  1166 = 0800			ATTRIBUTE_ADDR	= $0800
  1167 = 0C00			SCREEN_ADDR	= $0C00
  1168 = 00A0			WALL	= $A0
  1169 = 0041			WALL_COLOUR	= $41
  1170 = 0020			EMPTY	= $20
  1171 = 0051			PLY_HEAD	= $51
  1172 = 0057			PLY_CRASH	= $57
  1173 = 0042			PLY_TAIL_UD	= $42
  1174 = 0040			PLY_TAIL_LR	= $40
  1175 = 007D			PLY_TAIL_RD	= $7D
  1176 = 006E			PLY_TAIL_RU	= $6E
  1177 = 006D			PLY_TAIL_LD	= $6D
  1178 = 0070			PLY_TAIL_LU	= $70
  1179 = 005F			PLY1_COLOUR	= $5F
  1180 = 005D			PLY2_COLOUR	= $5D
  1181 = 0071			PLY3_COLOUR	= $71
  1182 = 0055			PLY4_COLOUR	= $55
  1183 = 0001			JOY_UP	= $01
  1184 = 0002			JOY_DOWN	= $02
  1185 = 0004			JOY_LEFT	= $04
  1186 = 0008			JOY_RIGHT	= $08
  1187 = 100E			adr.MUL40	= CODEORIGIN+$0000
  1188 1541			.var MUL40	= adr.MUL40 .word
  1189 = 1040			adr.DIRECTION	= CODEORIGIN+$0032
  1190 1541			.var DIRECTION	= adr.DIRECTION .word
  1191 = FF15			BORDERCOLOR	= $FF15
  1192 = FF19			BGCOLOR	= $FF19
  1193 = 0058			T0B	= $58
  1194 = 0059			NEWDIR	= $59
  1195 = 005A			T0N	= $5A
  1196 = 005B			T0W	= $5B
  1197 = 1564			GAMEOVER	= DATAORIGIN+$0010
  1198 = 1565			AVAILDIR	= DATAORIGIN+$0011
  1199 = 1566			ALIVE	= DATAORIGIN+$0012
  1200 = 1567			adr.PLAYER1	= [DATAORIGIN+$0013] .array [6]
  1201 1541			.var PLAYER1	= adr.PLAYER1 .word
  1202 = 1567			PLAYER1.X	= DATAORIGIN+$0013
  1203 = 1568			PLAYER1.Y	= DATAORIGIN+$0014
  1204 = 1569			PLAYER1.COLOUR	= DATAORIGIN+$0015
  1205 = 156A			PLAYER1.DIR	= DATAORIGIN+$0016
  1206 = 156B			PLAYER1.ISDEAD	= DATAORIGIN+$0017
  1207 = 156C			adr.PLAYER2	= [DATAORIGIN+$0018] .array [6]
  1208 1541			.var PLAYER2	= adr.PLAYER2 .word
  1209 = 156C			PLAYER2.X	= DATAORIGIN+$0018
  1210 = 156D			PLAYER2.Y	= DATAORIGIN+$0019
  1211 = 156E			PLAYER2.COLOUR	= DATAORIGIN+$001A
  1212 = 156F			PLAYER2.DIR	= DATAORIGIN+$001B
  1213 = 1570			PLAYER2.ISDEAD	= DATAORIGIN+$001C
  1214 = 1571			adr.PLAYER3	= [DATAORIGIN+$001D] .array [6]
  1215 1541			.var PLAYER3	= adr.PLAYER3 .word
  1216 = 1571			PLAYER3.X	= DATAORIGIN+$001D
  1217 = 1572			PLAYER3.Y	= DATAORIGIN+$001E
  1218 = 1573			PLAYER3.COLOUR	= DATAORIGIN+$001F
  1219 = 1574			PLAYER3.DIR	= DATAORIGIN+$0020
  1220 = 1575			PLAYER3.ISDEAD	= DATAORIGIN+$0021
  1221 = 1576			adr.PLAYER4	= [DATAORIGIN+$0022] .array [6]
  1222 1541			.var PLAYER4	= adr.PLAYER4 .word
  1223 = 1576			PLAYER4.X	= DATAORIGIN+$0022
  1224 = 1577			PLAYER4.Y	= DATAORIGIN+$0023
  1225 = 1578			PLAYER4.COLOUR	= DATAORIGIN+$0024
  1226 = 1579			PLAYER4.DIR	= DATAORIGIN+$0025
  1227 = 157A			PLAYER4.ISDEAD	= DATAORIGIN+$0026
  1228 1541			@exit
  1229
  1230 1541 A2 00		@halt	ldx #$00
  1231 1543 9A				txs
  1232
  1233 1544 60				rts
  1234
  1235 				; ------------------------------------------------------------
  1236
  1237 				; ------------------------------------------------------------
  1238
  1239 1545			.local	@DEFINES
  1240 1545			C4P
  1241 				.endl
  1242
  1243 1545			.local	@RESOURCE
  1244 				.endl
  1245
  1246 = 1545 0E 10		MUL40
  1246 = 1547 40 10		DIRECTION
  1246 = 1549 67 15		PLAYER1
  1246 = 154B 6C 15		PLAYER2
  1246 = 154D 71 15		PLAYER3
  1246 = 154F 76 15		PLAYER4
  1246 				.endl							; MAIN
  1247
  1248 				; ------------------------------------------------------------
  1249 				; ------------------------------------------------------------
  1250
  1251 				.macro	UNITINITIALIZATION
  1252 				
  1253 					.ifdef MAIN.SYSTEM.@UnitInit
  1254 					jsr MAIN.SYSTEM.@UnitInit
  1255 					eif
  1256 				.endm
  1257
  1258 				; ------------------------------------------------------------
  1259
  1260 					ift .SIZEOF(MAIN.SYSTEM) > 0
  1261 					.print 'SYSTEM: ',MAIN.SYSTEM,'..',MAIN.SYSTEM+.SIZEOF(MAIN.SYSTEM)-1
  1261 				SYSTEM: $10BE..$1159
  1262 					eif
  1263
  1264 					.print 'CODE: ',CODEORIGIN,'..',MAIN.@RESOURCE-1
  1264 				CODE: $100E..$1544
  1265
  1266 				; ------------------------------------------------------------
  1267
  1268 1551				.align $04
  1269
  1270 1554			DATAORIGIN
  1271 1554 28 00 18 00 2D 0C	.by  $28 $00 $18 $00 $2D $0C
  1272
  1273 = 0006			VARINITSIZE	= *-DATAORIGIN
  1274 = 0032			VARDATASIZE	= 50
  1275
  1276 = 1586			PROGRAMSTACK	= DATAORIGIN+VARDATASIZE
  1277
  1278 					.print 'DATA: ',DATAORIGIN,'..',PROGRAMSTACK
  1278 				DATA: $1554..$1586
  1279
  1280 				; ------------------------------------------------------------
  1281
  1282 				.macro	STATICDATA
  1283 				.by  $00 $00 $28 $00 $50 $00 $78 $00  $A0 $00 $C8 $00 $F0 $00 $18 $01  $40 $01 $68 $01 $90 $01 $B8 $01
  1284 				.by  $E0 $01 $08 $02 $30 $02 $58 $02  $80 $02 $A8 $02 $D0 $02 $F8 $02  $20 $03 $48 $03 $70 $03 $98 $03
  1285 				.by  $C0 $03 $01 $02 $04 $08
  1286 				.endm
  1287
  1288 					end
